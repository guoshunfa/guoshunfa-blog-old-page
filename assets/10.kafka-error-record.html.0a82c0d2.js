import{_ as n,r as t,o as s,c as l,a as e,b as r,d as o,e as i}from"./app.4659d0e0.js";const c={},d=i(`<h1 id="kafka-错误记录" tabindex="-1"><a class="header-anchor" href="#kafka-错误记录" aria-hidden="true">#</a> Kafka - 错误记录</h1><h4 id="cannot-allocate-memory" tabindex="-1"><a class="header-anchor" href="#cannot-allocate-memory" aria-hidden="true">#</a> cannot allocate memory</h4><p>日志描述：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>// Java运行时环境的内存不足，无法继续运行。
## There is insufficient memory for the Java Runtime Environment to continue.    
// 1073741824刚好是1G, 这句话的意思是本机内存分配未能为提交保留内存分配1G内存。
# Native memory allocation (malloc) failed to allocate 1073741824 bytes for committing reserved memory.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解决方案：</p><p>从这两行提示信息来看，应该是内存不够，经过百度，发现是kafka默认启动内存是1G, 而JVM默认内存也是1G, JVM自然不能所有内存都分配给kafka， 所以kafka就启动不了，解决方法是把kafka的最小启动内存设置为小于1G的值，即把kafka-server-start.sh中把&#39;export KAFKA_HEAP_OPTS=&quot;-Xmx1G -Xms1G&quot;&#39;中的Xms设置为256M, 这样，kafka最小只需要256M即可启动。</p><img src="https://file.pandacode.cn/blog/2022111104657.png"><p>重启kafka服务。</p><h4 id="executing-consumer-group-command-failed-due-to-request-metadata-failed-on-brokers-list-ubuntu-9092-id-1-rack-null" tabindex="-1"><a class="header-anchor" href="#executing-consumer-group-command-failed-due-to-request-metadata-failed-on-brokers-list-ubuntu-9092-id-1-rack-null" aria-hidden="true">#</a> Executing consumer group command failed due to Request METADATA failed on brokers List(ubuntu:9092 (id: -1 rack: null))</h4><p>日志描述：</p><p>运行<code>bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 --list</code>触发的错误日志。消费者团体执行命令失败由于请求元数据失败的经纪人名单上。</p><p>解决方案：</p><p>查看server.properties zookeeper的配置信息。调整成正确的YOUR_IP_ADDRESS即可。<code>bin/kafka-consumer-groups.sh --bootstrap-server YOUR_IP_ADDRESS:9092 --list</code></p><h4 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料" aria-hidden="true">#</a> 参考资料</h4>`,14),u={href:"https://www.cnblogs.com/hi3254014978/p/14092865.html",target:"_blank",rel:"noopener noreferrer"},m={href:"https://www.cnblogs.com/hapjin/p/7396063.html",target:"_blank",rel:"noopener noreferrer"};function h(p,f){const a=t("ExternalLinkIcon");return s(),l("div",null,[d,e("ul",null,[e("li",null,[e("a",u,[r("启动kafka提示OOM异常，cannot allocate memory"),o(a)])]),e("li",null,[e("a",m,[r("KafkaConsumer 长时间地在poll(long )方法中阻塞"),o(a)])])])])}const _=n(c,[["render",h],["__file","10.kafka-error-record.html.vue"]]);export{_ as default};
